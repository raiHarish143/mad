-----------------activity_main.xml---------------------




<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" tools:context=".MainActivity">
 <TextView
 android:id="@+id/textview1"
android:layout_width="wrap_content"
android:layout_height="wrap_content" android:text="CHANGING
WALLPAPER APPLICATION"
android:textColor="@color/design_default_color_primary_dark"
android:textStyle="bold"
 app:layout_constraintBottom_toBottomOf="parent"
app:layout_constraintEnd_toEndOf="parent"
app:layout_constraintHorizontal_bias="0.583"
app:layout_constraintLeft_toLeftOf="parent"
app:layout_constraintRight_toRightOf="parent"
app:layout_constraintStart_toStartOf="parent"
app:layout_constraintTop_toTopOf="parent"
app:layout_constraintVertical_bias="0.067" />
 <Button
 android:id="@+id/button"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_marginStart="72dp"
android:layout_marginTop="53dp"
android:layout_marginEnd="35dp"
android:layout_marginBottom="590dp"
android:text="CLICK HERE TO CHANGE WALLPAPER"
app:layout_constraintBottom_toBottomOf="parent"
app:layout_constraintEnd_toEndOf="parent"
app:layout_constraintHorizontal_bias="0.714"
app:layout_constraintStart_toStartOf="parent"
app:layout_constraintTop_toTopOf="parent"
app:layout_constraintVertical_bias="1.0" />



------------------------------------MainActivity.java------------------------------------------

package com.example.prgm4;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.app.AppCompatActivity;
import android.app.WallpaperManager; import
android.graphics.Bitmap; import
android.graphics.BitmapFactory; import
android.graphics.drawable.AnimationDrawable; import
android.graphics.drawable.BitmapDrawable; import
android.graphics.drawable.Drawable; import
android.os.Bundle; import android.view.View; import
android.widget.Button; import android.widget.Toast;
import java.io.IOException;
import java.util.Timer; import
java.util.TimerTask;
public class MainActivity extends AppCompatActivity {
 Button changewallpaper;
 Timer mytimer;
Drawable drawable;
boolean running;
WallpaperManager wpm;
int prev=1; @Override
 protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
 mytimer = new Timer();
 wpm = WallpaperManager.getInstance(this);
changewallpaper = findViewById(R.id.button);
 changewallpaper.setOnClickListener(new View.OnClickListener() {
 @Override
 public void onClick(View view) {
setWallpaper();
 }
 });
}
 private void setWallpaper() {
 new Timer().schedule(new MyTimer(), 0, 6000);
running = true;
 }
 class MyTimer extends TimerTask
 {
 @Override
public void run() {
if(prev==1) {
 drawable = getResources().getDrawable(R.drawable.one);
prev = 2;
 }
 else if(prev==2) {
 drawable = getResources().getDrawable(R.drawable.two);
prev=3; }
 else if(prev==3) {
 drawable = getResources().getDrawable(R.drawable.three);
prev=4; }
 else if(prev==4) {
 drawable = getResources().getDrawable(R.drawable.four);
prev=1;
 }
 Bitmap wallpaper = ((BitmapDrawable)drawable).getBitmap();
try {
 wpm.setBitmap(wallpaper);
 }
 catch (IOException e) {
 e.printStackTrace();
 }
 }
 }
} 